# External Feed for Risk Scoring

## Introduction
In this section, we will discuss the integration of SAP S/4HANA's Financial Supply Chain Management (FSCM) module with external credit agencies for risk scoring. This includes the transition from manual risk category settings in SAP ECC to automated risk scoring using external feeds in FSCM.

## Integration with External Credit Agencies

### Traditional SAP ECC Model
- **Risk Categories**: High, Medium, Low, etc.
- **Manual Process**: Ratings from agencies like Dun & Bradstreet (DnB) were manually set in transaction FD32.

### FSCM Model
- **Automated Integration**: FSCM allows direct integration with external credit rating agencies using XML-based interfaces.
- **Risk Class**: Can be set to automatically calculate based on external feeds.

### Steps to Integrate External Feeds
1. **Navigate to Credit Profile**: Go to the general data of the business partner and access the credit profile.
2. **Set Risk Class**: Configure the risk class to be automatically calculated based on external feeds.
3. **Define Rating Procedures**: Use the formula editor to apply conditions and logic for calculating credit limits and risk scores.

## Maintaining Credit Limits

### Navigation
1. **Path**: Go to `Financial Supply Chain Management > Accounting > Credit Management > Master Data`.
2. **Transaction Code**: `UKM_BP` (Credit Management view of the business partner).

### Credit Management View of BP
- **Role**: `UKM0001` (Credit Management role for the business partner).
- **Equivalent**: Replaces the traditional `FD32` transaction used by SD or FI consultants.

### Steps to Maintain Credit Limits
1. **Access BP**: Use `UKM_BP` or navigate to BP and select the `UKM0001` role.
2. **Credit Profile**: Go to the credit profile of the business partner.
3. **Credit Segment Data**: 
   - Set credit limits for specific credit segments.
   - Define validity periods for the credit limits.

## Integration with SD Module

### Configuration Steps
1. **Activate Credit Management**: Ensure credit management is activated in FSCM.
2. **Assign Credit Control Area**: Assign the credit control area to a credit segment.
3. **Define Update Types**: Configure update types for structures (e.g., 0012 for open orders, 0015 for open deliveries, 0018 for dynamic credit management).
4. **Automatic Credit Control**: Define automatic credit control settings, such as warnings and errors for credit limit breaches.

### Risk Categories
- **Dynamic Management**: Risk categories can be managed dynamically against the customer master in FSCM.
- **Custom Risk Categories**: Define custom risk categories based on business requirements.

## Credit Exposure and Blocking

### Credit Exposure Report
- **Access**: Navigate to the credit segment data in the business partner view.
- **Report**: View the current credit exposure of a customer.

### Blocking Customers
- **Functionality**: Block customers directly from the business partner view.

### Credit Check Simulation
- **Simulation**: Perform credit checks and simulate credit scenarios to determine if a transaction will pass or fail based on the customer's credit segment.

## Advanced Reporting

### Replacing VKM3
- **New Reports**: Use advanced reports like `UKM_MY_DCDS` to view detailed information on credit decisions made against documents.

## Summary
- **Automated Risk Scoring**: FSCM allows for automated risk scoring using external feeds, replacing manual processes in SAP ECC.
- **Credit Management View**: The `UKM0001` role in the business partner view replaces the traditional `FD32` transaction.
- **Integration with SD**: Configure settings to integrate FSCM credit management with the SD module.
- **Advanced Reporting**: Use new reports for detailed credit management information.



Our third feature.

Integration.

With external credit agencies.

Well, this was something that already existed in SEC.

To a certain extent.

You could define your rating rating as high, Low.

Medium risky.

Less risky.

More risky.

You maintain that as a risk category?

Remember in SEC.

There is something called as a risk category.

This is the only parameter you could have.

Ratings come in from, say, external ratings agency like DnB, Dunn, Darren Bradstreet, a very popular

business credit rating agency.

This can rate a company.

Say, for example, a new customer has signed up.

You can rate that company based on Dun and Bradstreet ratings.

You can rate it as low, medium, high, whatever.

And this.

Setting of a risk category based on DNP settings or any other external credit agency is a manual job.

Look at the setting.

Go to 32 for that customer.

Set the risk category.

Automatically if the customer is high risk.

Let's say the customer will fall under the risk category of high, which we have to set.

Manually.

And once you do that, automatically the higher risk category settings will apply.

Right.

So this is.

The status quo as as it exists in SEC.

With FCM.

ASAP.

FCM can have dedicated links with any external credit rating agency.

It's all based on XML based interface, so it's configurable irrespective of how the agency is.

As long as you know the format of the feed, you can integrate that directly to the business partner.

Now this is a functionality that we don't have to worry about as consultants because an FCM consultant

is trained to do this.

So we go to general data.

Go to credit profile.

You see something called as a risk class?

In this case, I've set it to manually.

But this risk class can be set up to be automatically calculated.

In order to calculate it.

You have to have an external feed from a credit rating agency and then you could do further calculation.

For example, if you look at this section, credit risk monitoring and then master data.

You can define rating procedures.

Like so.

And.

You can define formula that apply to calculating how a credit limit is calculated.

For example, you go to the formula editor.

And you can apply a series of non-programmatic conditions if the marital status and so and so if the

occupation is so and so, if the business partner type is on.

So you can apply a different variety of settings.

Or logic.

That can calculate your rating, your scores, your credit limits or anything you need in credit management.

Now, this is something that was never available in the SEC, right?

If you had to do something, you had to go to user exits and write custom code to arrive at this logic.

Now, instead of writing a barb, you can do a bunch of if else, statements using these formula and

arrive at scores at credit limits and whatnot.

Whatever you need.

You can apply formula for anything.

Now, we're not going to look at how these formulas work.

Because that's the role of an FSM consultant.

Data was saved.

We don't want to save it.

So you can apply this formula for scoring and credit limit calculation or.

Credit rating.

And this can be based on external credit ratings from DnB or any other external credit rating agency.

Now in terms of integration with SD.

There are some elements that you might have to configure as an SD consultant.

For example.

First thing is to activate credit management.

Unless it's active, FSM based credit management will not work right.

The FSM consultant took care of it in my case.

If you are required to do it, this is where you need to go and activate or deactivate.

Right.

And here you assign the credit control area to a credit segment.

And you define the type of update that needs to be done.

To the structures.

For example, 0012 is open order based updates.

0015 is open delivery and billing based updates.

0018.

Is all of that typically for dynamic credit management?

Automatic credit management?

0018.

Applies.

Right.

And then.

If you go to define automatic credit control, this is the one that you are aware of credit control,

area risk category and credit group.

So for our own custom defined credit control area for risk category, a credit group zero one credit

group is something that you're already aware of.

It's the same thing zero one for sales, zero two for delivery and zero three for billing.

And you can create your own and assign them to the sales document type or delivery document type or

billing document type.

If you double click that, you'll see that this is the screen that you are familiar with in SEC, except

that this bottom portion is removed.

There were so many settings here, right?

All of this section is gone.

Now all you have is.

Automatic credit management.

And what's your reaction?

Is it a warning?

Is it an error?

Is it warning plus your credit limit increase, so on and so forth.

Right.

And should the sales document be blocked?

In this case, the update is 012.

You could have it very well as 018.

And these risk categories.

In SEC were static.

In FCM.

These could be managed dynamically against a customer master.

The credit group is very much static.

It's assigned to the document type.

You want to see that?

A signed sales document types and delivery document types.

For example, if you go to sales document type, you can assign a credit group here.

So zero one is typically sales, zero two is delivery, zero three is billing.

And that's that's all you need.

You don't need to create your own custom credit groups.

Now that's all you have to do as an consultant.

Define the credit segment.

Assign the credit control area and credit segment.

Assign the sales area to credit control area.

And.

Depending on the settings required.

You define the risk categories because you know you don't know how the business wants to create their

risk categories.

Medium, High.

Low.

Or very high.

Very low.

Very medium.

I don't know, you know, 5 or 10 different types.

You just define them.

That's it.

You don't have to define the formula based on which a particular customer is assigned to high risk or

low risk.

That's all FSM.

All you have to do is define the risk categories.

Once again, let's go back to BP.

Go to the credit segment data.

And this is where you find the credit exposure.

What is credit exposure in FD 32?

You can see that, for example, a customer is extended a credit limit of 100 K, and the current credit

exposure is, say, 30 K.

Meaning the customer has consumed a credit of 30 K.

You can see that here.

You click on this button, it takes you basically to a report, credit exposure report.

These are all available, standalone or better.

They are easily integrated into the business partner.

Just click this button and you get the credit exposure.

All right.

And you can block the customer here.

See everything that you can do in 32.

You can do it here.

And much more, actually.

And this is the formula that's used to arrive at the credit risk category.

And here you can do a credit check like a simulation.

Like you say, the amount is 1000.

And will the credit check pass for this customer for this transaction date, depending on the credit

segment?

It's either pass or fail.

You want to cancel?

Yes.

Now, how about releasing credit blocked documents like we came three.

Now we came.

Three does not exist in.

As for Hannah, you can have one.

But that's given more or less like a stop gap.

There are other available reports that you can use to release credit management documents or credit

block documents.

Right.

So you still have one, but a more advanced version of that is.

You came my underscore dcds.

So this is where you can see all the credit decisions that have been made against documents.

So in this case, there is none.

But this is where you'll see the documented or undocumented credit decisions.

