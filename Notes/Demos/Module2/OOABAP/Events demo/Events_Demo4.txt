REPORT Z.
CLASS LCL_MAIN DEFINITION.
  PUBLIC SECTION.
    DATA V_NUM TYPE I.
    METHODS PROCESS IMPORTING IV_NUM TYPE I.
    EVENTS CUTOFF_REACHED.
ENDCLASS.                    "lcl_main DEFINITION
*
CLASS LCL_EVENT_HANDLER DEFINITION.
  PUBLIC SECTION.
    METHODS HANDLE_CUTOFF_REACHED
         FOR EVENT CUTOFF_REACHED OF LCL_MAIN.
ENDCLASS.                    "lcl_event_handler DEFINITION

CLASS LCL_MAIN IMPLEMENTATION.
  METHOD PROCESS.
    V_NUM = IV_NUM.
    IF IV_NUM GE 20.
      RAISE EVENT CUTOFF_REACHED.
    ENDIF.
  ENDMETHOD.                    "process
ENDCLASS.                    "lcl_main IMPLEMENTATION
*
CLASS LCL_EVENT_HANDLER IMPLEMENTATION.
  METHOD HANDLE_CUTOFF_REACHED.
    WRITE 'Event Processed - Cutoff is more than 20'.
  ENDMETHOD.                    "handle_cutoff_reached
ENDCLASS.
*
START-OF-SELECTION.
  DATA LO_MAIN TYPE REF TO LCL_MAIN. "event is defined
  DATA LO_EVENT_HANDLER TYPE REF TO LCL_EVENT_HANDLER. "event handler method
*
  CREATE OBJECT LO_MAIN.
  CREATE OBJECT LO_EVENT_HANDLER.
  SET HANDLER LO_EVENT_HANDLER->HANDLE_CUTOFF_REACHED FOR LO_MAIN.
*
  LO_MAIN->PROCESS( 50 ).

*
  "lcl_event_handler IMPLEMENTATION